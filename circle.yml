machine:
  services:
    - docker
  java:
    version: oraclejdk8
  environment:
    PATH: ${HOME}/.local/bin:$PATH

general:
  artifacts:
    - "_make"

dependencies:
  cache_directories:
    - ~/.stack
    - ~/.local
    - ~/.etlas
    - ~/.coursier
    - ~/eta
    - ~/.gradle

  pre:
    - mkdir -p ~/.local/bin

  override:
    - scripts/eta-install.sh

test:
  override:
    - ./init.sh
    - ./fast-benchmarks.sh
    - ./slow-benchmarks.sh

